---
layout: cayman
title:  "《逆流而上》"
date:   2018-07-09 01:40:57 +0800
categories: Books
published: true
author: ettingshausen
--- 
今天一口气读完了《逆流而上——阿里巴巴技术成长之路》，颇有收获，也为之震撼。全书只有五个章节，200多页。  

![](https://wx3.sinaimg.cn/large/685ea4faly1ft34z4ki60j20gf0lgt9y.jpg)  
*逆流而上——阿里巴巴技术成长之路*  
{:.image-caption}   
> 1. 基础架构高可用
1. 中间件使用常见隐患与预防
1. 数据库常见问题
1. 业务研发经典案例
1. 运行管理域稳定性建设  

整体来看，这是一本秀肌肉的书。挑选了一些经典案例，主要是遇到的故障，及故障的解决过程。全书篇幅有限，又是以各个案例为主线，不太容易记住，相比于书中的知识点，更有价值的是学习借鉴其排查故障的思路及解决过程。从这个角度来看，这本书更适合运维的程序员阅读，当然对于从事业务开发的程序员也非常值得一读，毕竟业务和技术结合的系统中埋着无数的坑。  

# 网络&底层硬件
---
大学毕业之前曾经在中国电信实习过一个月，跟着师傅走遍了大大小小的机房。机房中密密麻麻的光纤，成捆成捆的堆叠在机架上，第一次看到颇为震撼。电信内部有个故障预警系统，某个设备故障了，会自动触发警报，通知给中心的工作人员，工作人员通过系统可以精确的定位故障的位置，哪个机柜，哪个设备，哪个端口。我当时的工作，就是和师傅一同解决各种故障。一直觉得运营商的故障监测系统应该是最先进的了，没想到，阿里在运营商之上做出了 `秒级互联网监控系统` ， 故障定位的精细度可以细化到运营商网内地市级故障。确定了故障，通过 `容灾调度决策系统` 将流量瞬间切换至其他运营商的链路上，绕开故障点。同学之前在海南省中国联通工作，我就拿这个例子调侃他们运营商。

阿里在技术上的投入令人敬佩，比如在第一章中提到`网络静默丢包`的原因，其中有一条是：  
>+ 芯片封装材料包含有放射性元素引发芯片软失效
+ 来自宇宙和太阳系的高能粒子，芯片的原子核捕获产生附属的带点例子，进而引发芯片软失效
+ 低能中子会和芯片内部绝缘体材料发生原子反应，产生高能粒子，引发软失效  

对问题刨根问底能到这个层面，已经超乎了我对互联网公司的认知。  

# 分布式系统
---
分布式系统是云计算的核心，优势很多。但是也得面对许多挑战，比如，高度依赖通信，集群应用管理，分布式事务控制等。这些问题一般的公司，基本上没有能力应对。2007到2008两年，淘宝架构完成了从集中式到分布式的演进。从第二章开始，陆续介绍了阿里的分布式缓存集群， [`VipServer`](https://blog.csdn.net/heyc861221/article/details/80126013), 阿里云飞天系统等。有意思的是，飞天系统里面模块都是用中国古代神话中神命名的，比如，盘古、女娲…

![](https://wx4.sinaimg.cn/large/685ea4faly1ft322zxzraj20hf0d075n.jpg)  
*[阿里云飞天系统的技术架构](https://www.cnblogs.com/snailrun/p/4986736.html)*  
{:.image-caption}   
我平常主要的开发面向业务，所以在这个章节更想看到关于阿里开源的[`Dubbo`](https://github.com/apache/incubator-dubbo) 的相关介绍，然而并没有:flushed:。  
有些公司，在阿里云上面购买了一个服务器，然后服务端的程序放在上面，然后就对外宣称，自己基于云计算的“云XXX”应用，我们公司就是其中一个:joy:。 购买一个服务器，实际上还是将鸡蛋放在一个篮子中，和分布式、集群并无关联，也毫无优势。因为本质上还是一个单机应用，所以有并发导致的热点问题只会更严重，没有容灾防备，系统更脆弱:speak_no_evil:。  

分布式系统的控制，对任何一个公司来说都是挑战，即便是阿里，第四章的第一个案例讲的就是分布式事务锁与业务并发，导致用户余额多出了一分钱的异常。 

我从去年学习SpringBoot的过程中接触到分布式服务框架，然而很快意识到，如果一个还未稳定，需要频繁改动的产品，没有大量的用户，根本就没有必要使用分布式的架构。从维护的角度来说，要是只有业务的开发人员没有运维团队，几乎不可能玩得转。

# 数据库&业务系统
---
这部分内容集中在第三章和第四章，如果是业务开发，可以直接看这部分的内容。重点放在问题的排查方法、过程。至于发现问题的深度追究，适可而止，毕竟大多数的公司没有阿里这样的格局，会给你时间让你研究MySQL、Tomcat的源码。关于时间，Google 给的更充分，在Google有个[`20% time`](http://www.ifanr.com/335200)规则，每个员工都可以用“20% 时间”，也就是每周花一天，一个月花四天，或一年花一个月的时间在在自己的小项目上。实际上，Google许多重要应用就是从这些“20%”中诞生，比如Gmail, Goolge Maps等。  

从事业务开发的程序员，不能只关心业务的实现，也要关心底层的技术实现，数据库的性能等。从自身角度讲，即便是工作没时间，也要抽出业余时间充实自己。
# 总结
---
阿里这种技术驱动的公司，是国内程序员最向往的公司之一。尊重技术不是侃侃而谈，不是这个很简单，那个也简单。尊重技术，尊重那些一线的开发人员，是他们一行行的代码、一次次测试，日复一日不厌其烦的调试，才有了稳定的产品。正如阿里首席风险官刘振飞所说：
>他们面对日常一个个突发的故障，遭受委屈、忍受冤枉、不惧倒霉、坚忍不拔；他们是脚踏实地、埋头苦干的无名英雄，是阿里技术的脊梁！
